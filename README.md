# Prism ä»£ç†æ ¸å¿ƒ

åŸºäº [mihomo](https://github.com/MetaCubeX/mihomo) å’Œ [clash](https://github.com/Dreamacro/clash) äºŒæ¬¡å¼€å‘çš„ä»£ç†æ ¸å¿ƒé¡¹ç›®ï¼Œä¸“ä¸ºèŠ‚ç‚¹æ± ç”¨æˆ·æä¾›ä¾¿æ·çš„ä»£ç†æœåŠ¡ã€‚

## é¡¹ç›®æ¦‚è¿°

Prism æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ä»£ç†æ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼Œæ—¨åœ¨ä¸ºèŠ‚ç‚¹æ± ç”¨æˆ·æä¾›ç¨³å®šã€é«˜æ•ˆã€æ˜“ç”¨çš„ä»£ç†æœåŠ¡ã€‚é¡¹ç›®é‡‡ç”¨æ¸è¿›å¼å¼€å‘ç­–ç•¥ï¼Œä¼˜å…ˆå®Œæˆ Web ç‰ˆæœ¬ï¼Œéšåæ‰©å±•åˆ°å¤šä¸ªå¹³å°ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ”¥ åŸºäºæˆç†Ÿçš„ mihomo/clash æ ¸å¿ƒ
- ğŸŒ ç®€æ´ç›´è§‚çš„ Web ç®¡ç†ç•Œé¢
- ğŸ“± è®¡åˆ’æ”¯æŒå¤šå¹³å°å®¢æˆ·ç«¯ (macOS, Windows, Linux, Android)
- ğŸ¯ ä¸“ä¸ºèŠ‚ç‚¹æ± ç”¨æˆ·ä¼˜åŒ–ï¼Œæ— å¤æ‚ç”¨æˆ·ç®¡ç†
- âš¡ é«˜æ€§èƒ½ä»£ç†è½¬å‘å’Œæ™ºèƒ½è´Ÿè½½å‡è¡¡
- ğŸ”„ è®¢é˜…è‡ªåŠ¨æŠ“å–å’ŒèŠ‚ç‚¹å¤šå¯¹å¤šå…³ç³»ç®¡ç†
- ğŸ“„ è§„åˆ™æ–‡ä»¶åŒ–å­˜å‚¨ï¼Œçµæ´»é…ç½®ä»£ç†è§„åˆ™
- ğŸ“Š è¯¦ç»†çš„æµé‡ç»Ÿè®¡å’ŒèŠ‚ç‚¹æ€§èƒ½ç›‘æ§

### è®¾è®¡ç†å¿µ

- **æ€§èƒ½ä¼˜å…ˆ**: ä½œä¸ºä»£ç†å®¢æˆ·ç«¯ï¼Œæ€§èƒ½æ˜¯ç¬¬ä¸€ä¼˜å…ˆçº§
- **æœ€å°åŒ–æ•°æ®åº“**: ä»…3ä¸ªæ ¸å¿ƒè¡¨ï¼Œç§»é™¤å½±å“æ€§èƒ½çš„æ—¥å¿—å’Œç»Ÿè®¡è¡¨
- **ç®€åŒ–ä¼˜å…ˆ**: å»é™¤ç”¨æˆ·ç®¡ç†å’Œä»£ç†ç»„ï¼Œä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½
- **è®¢é˜…ä¸­å¿ƒ**: ä»¥è®¢é˜…ä¸ºæ ¸å¿ƒï¼Œè‡ªåŠ¨ç®¡ç†èŠ‚ç‚¹æ± 
- **å¤šå¯¹å¤šå…³ç³»**: èŠ‚ç‚¹å¯å±äºå¤šä¸ªè®¢é˜…ï¼Œè®¢é˜…å¯åŒ…å«å¤šä¸ªèŠ‚ç‚¹
- **æ–‡ä»¶å­˜å‚¨**: è§„åˆ™å’Œæ—¥å¿—æ–‡ä»¶åŒ–å­˜å‚¨ï¼Œç¼“å­˜ä½¿ç”¨BoltDB/LevelDB
- **è‡ªåŠ¨åŒ–**: è®¢é˜…è‡ªåŠ¨æ›´æ–°ï¼ŒèŠ‚ç‚¹è‡ªåŠ¨æµ‹é€Ÿ

### ç›®æ ‡å¹³å°

- **ç¬¬ä¸€é˜¶æ®µ**: Web ç®¡ç†ç•Œé¢ (ç®€åŒ–æ¶æ„)
- **ç¬¬äºŒé˜¶æ®µ**: æ¡Œé¢å®¢æˆ·ç«¯ (macOS, Windows, Linux)
- **ç¬¬ä¸‰é˜¶æ®µ**: ç§»åŠ¨ç«¯åº”ç”¨ (Android)

## æŠ€æœ¯æ ˆ

### æ ¸å¿ƒå¼•æ“
- **ä»£ç†æ ¸å¿ƒ**: mihomo/clash (Go)
- **API æœåŠ¡**: Go + GoFiber v2 (é«˜æ€§èƒ½ã€é›¶å†…å­˜åˆ†é…)
- **æ•°æ®åº“**: SQLite/MySQL/PostgreSQL/GaussDB (å¤šæ•°æ®åº“æ”¯æŒ)
- **ç¼“å­˜**: BoltDB/LevelDB (åµŒå…¥å¼é”®å€¼å­˜å‚¨)

### Web ç•Œé¢
- **å‰ç«¯æ¡†æ¶**: React 18 + TypeScript
- **çŠ¶æ€ç®¡ç†**: Zustand (è½»é‡çº§)
- **UI ç»„ä»¶**: Ant Design 5.x
- **æ„å»ºå·¥å…·**: Vite
- **æ ·å¼**: Tailwind CSS + CSS Modules

### è·¨å¹³å°å®¢æˆ·ç«¯
- **æ¡Œé¢ç«¯**: Tauri + Rust + Web æŠ€æœ¯
- **ç§»åŠ¨ç«¯**: Flutter (è®¡åˆ’)

## é¡¹ç›®ç»“æ„

```
prism/
â”œâ”€â”€ cmd/            # åº”ç”¨å…¥å£ç‚¹
â”œâ”€â”€ internal/       # ç§æœ‰åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ api/        # GoFiber API å¤„ç†å™¨
â”‚   â”œâ”€â”€ core/       # ä»£ç†æ ¸å¿ƒé›†æˆ
â”‚   â”œâ”€â”€ models/     # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ service/    # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â””â”€â”€ database/   # æ•°æ®åº“æ“ä½œ
â”œâ”€â”€ web/            # React + TypeScript Webç•Œé¢
â”œâ”€â”€ data/           # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ rules/      # è§„åˆ™æ–‡ä»¶å­˜å‚¨
â”‚   â”œâ”€â”€ configs/    # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ logs/       # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ docs/           # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/        # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â””â”€â”€ migrations/     # æ•°æ®åº“è¿ç§»æ–‡ä»¶
```

## å¼€å‘çŠ¶æ€

ğŸš§ é¡¹ç›®å¤„äºæ—©æœŸè§„åˆ’é˜¶æ®µ

- [x] é¡¹ç›®åˆå§‹åŒ–å’Œæ¶æ„è®¾è®¡
- [x] æ•°æ®åº“è®¾è®¡ (ç®€åŒ–ç‰ˆ)
- [x] GoFiber API æ¡†æ¶è®¾è®¡
- [x] React + TypeScript å‰ç«¯æ¶æ„
- [ ] è®¢é˜…ç®¡ç†ç³»ç»Ÿå¼€å‘
- [ ] èŠ‚ç‚¹ç®¡ç†å’Œæµ‹é€Ÿç³»ç»Ÿ
- [ ] è§„åˆ™æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ
- [ ] Web ç‰ˆæœ¬å®Œæ•´å¼€å‘
- [ ] æ¡Œé¢å®¢æˆ·ç«¯å¼€å‘
- [ ] ç§»åŠ¨ç«¯åº”ç”¨å¼€å‘

## å¿«é€Ÿå¼€å§‹

> æ³¨æ„ï¼šé¡¹ç›®å°šåœ¨å¼€å‘ä¸­ï¼Œä»¥ä¸‹æ˜¯é¢„æœŸçš„ä½¿ç”¨æ–¹å¼

### Web ç‰ˆæœ¬
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/ice-cream-heaven/prism.git
cd prism

# å¯åŠ¨æ ¸å¿ƒæœåŠ¡
cd core && go run .

# å¯åŠ¨ Web ç•Œé¢
cd web && npm install && npm run dev
```

### API æ¥å£
```bash
# è·å–ä»£ç†çŠ¶æ€
curl http://localhost:9090/api/status

# æ›´æ–°é…ç½®
curl -X POST http://localhost:9090/api/config
```

## è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](./CONTRIBUTING.md) äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚

### å¼€å‘ç¯å¢ƒè¦æ±‚

- Go 1.21+
- Node.js 18+
- Git

### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://conventionalcommits.org/) è§„èŒƒï¼š

- `feat:` æ–°åŠŸèƒ½
- `fix:` ä¿®å¤
- `docs:` æ–‡æ¡£æ›´æ–°
- `style:` ä»£ç æ ¼å¼
- `refactor:` é‡æ„
- `test:` æµ‹è¯•ç›¸å…³
- `chore:` æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº [MIT License](./LICENSE) å¼€æºã€‚

## è‡´è°¢

- [mihomo](https://github.com/MetaCubeX/mihomo) - æä¾›å¼ºå¤§çš„ä»£ç†æ ¸å¿ƒ
- [clash](https://github.com/Dreamacro/clash) - åŸå§‹ä»£ç†æ ¸å¿ƒå®ç°

## è”ç³»æˆ‘ä»¬

- é¡¹ç›®ä¸»é¡µ: https://github.com/ice-cream-heaven/prism
- é—®é¢˜åé¦ˆ: https://github.com/ice-cream-heaven/prism/issues
- è®¨è®ºåŒº: https://github.com/ice-cream-heaven/prism/discussions

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œåˆæ³•çš„ç½‘ç»œä»£ç†ç”¨é€”ï¼Œè¯·éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ã€‚